---
title: 모던 자바 (2) 인터페이스와 클래스
date: 2024-01-29 14:50:00 +09:00
categories: [JAVA, 모던 자바]
tags:
  [
    JAVA,
    모던 자바
  ]



---

- ## 도입

  - `자바 8`에서 `람다`와 `함수형 프로그래밍`을 도입하면서 `인터페이스에 변화`가 생김.
  - 자바 7부터 시작된 `인터페이스 변경은 자바 8`에서 대대적으로 이루어짐.
  - 이 변화는 `함수형 프로그래밍`과 `스트림` 등의 배경이 되었고, `컬렉션 프레임워크 개선`의 기반이 됨.

  ## 인터페이스 사용 시 문제점

  - 인터페이스는 주로 여러 구현체를 통일된 명세서로 정의하기 위해 사용.
  - `자바 8 이전`에는 한 번 배포된 인터페이스를 `수정하는 것이 어렵고`, `컴파일 에러`를 발생시키는 경우가 있음.
  - 클래스를 수정하지 않고는 인터페이스를 수정할 수 없어서 불편함이 있었음.

  ## 인터페이스의 진화

  - `자바 8`에서는 `디폴트 메서드`를 도입하여 인터페이스에 구현된 코드를 정의할 수 있게 됨.
  - `컬렉션 프레임워크` 등에서 발생한 문제를 해결하기 위해 `디폴트 메서드`가 등장.
  - `자바 9`에서는 `private 메서드`를 인터페이스에 추가하여 `로직을 공통화`하고 재사용성을 높임.

  ```java
  // 자바 8 이전의 인터페이스와 클래스
  interface CompanyEncryption {
      // 인터페이스에서는 추상 메서드만 정의 가능
      byte[] encrypt(byte[] bytes) throws Exception;
      byte[] decrypt(byte[] bytes) throws Exception;
  }
  
  // 해당 인터페이스를 구현하는 클래스
  class EncryptionImpl implements CompanyEncryption {
      @Override
      public byte[] encrypt(byte[] bytes) throws Exception {
          // 구현체에서 추상 메서드를 반드시 구현해야 함
          // 실제 암호화 로직
          return /* 암호화된 결과 */;
      }
  
      @Override
      public byte[] decrypt(byte[] bytes) throws Exception {
          // 실제 복호화 로직
          return /* 복호화된 결과 */;
      }
  }
  
  // 자바 8 이후의 인터페이스와 클래스
  interface CompanyEncryption {
      // 기존과 마찬가지로 추상 메서드 정의 가능
      byte[] encrypt(byte[] bytes) throws Exception;
  
      byte[] decrypt(byte[] bytes) throws Exception;
  
      // 디폴트 메서드로 실제 코드를 포함할 수 있음
      default boolean isEncoded(byte[] bytes) throws Exception {
          // 기본적으로는 구현체에서 재정의 가능
          return /* 암호화 여부 판단 로직 */;
      }
  }
  
  // 해당 인터페이스를 구현하는 클래스
  class EncryptionImpl implements CompanyEncryption {
      @Override
      public byte[] encrypt(byte[] bytes) throws Exception {
          // 실제 암호화 로직
          return /* 암호화된 결과 */;
      }
  
      @Override
      public byte[] decrypt(byte[] bytes) throws Exception {
          // 실제 복호화 로직
          return /* 복호화된 결과 */;
      }
      
      // isEncoded 메서드를 구현하지 않아도 됨
  }
  
  // 기존과 마찬가지로 인터페이스를 구현한 클래스는 여전히 사용 가능
  EncryptionImpl encryption = new EncryptionImpl();
  byte[] encryptedData = encryption.encrypt(data);
  byte[] decryptedData = encryption.decrypt(encryptedData);
  boolean isEncoded = encryption.isEncoded(encryptedData);
  
  ```

  

  ## 요약

  - `자바 8 이후`의 인터페이스 변화는 기존 코드의 유지보수 및 확장성 측면에서 큰 이점을 제공합니다. `디폴트 메서드`를 활용하면 기존 코드를 수정하지 않고도 새로운 기능을 추가할 수 있어서 업데이트 과정이 더욱 유연해졌습니다.

  - `디폴트 메서드`를 이용하면 `기존 인터페이스를 구현하는 클래스`들이 `새로운 메서드에 대한 구현을 갖지 않아도` 되므로, `기존 코드`의 영향을 최소화하면서 `새로운 기능`을 도입할 수 있습니다.

  - 개발자들은 이러한 특징을 활용하여 라이브러리나 프레임워크를 설계할 때 유연하고 확장 가능한 인터페이스를 정의할 수 있습니다. 이는 특히 오픈 소스 프로젝트에서 협업 시에 유용하게 활용될 수 있습니다.

  - `private 메서드`의 도입으로 인터페이스 `내부에서의 로직을 캡슐화`하고 `코드의 재사용성`을 높일 수 있게 되었습니다. 이로써 인터페이스 내부의 복잡한 구현 로직이 감춰져 사용자에게는 단순한 명세서로만 노출될 수 있습니다.

  - 이러한 변화는 자바의 진화에 따라 기존 코드와의 호환성을 유지하면서도 `새로운 기능을 효과적으로 도입`할 수 있도록 도와주고 있습니다. `개발 생산성`과 `코드 유지 보수성`을 높이는 측면에서 매우 긍정적인 발전으로 평가됩니다.